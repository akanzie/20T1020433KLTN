@model KLTN20T1020433.Web.Areas.Teacher.Models.StudentModel
@{
    Layout = null;
}
<div class="overflow-y-auto mw-100 text-center" style="height: calc(100vh - 255px);">
    <div class="table-responsive-md">
        <table class="table table-hover">
            <thead class="table-light sticky-top">
                <tr>
                    <th scope="col">
                        <div>
                            <input type="checkbox" class="form-check-input" id="selectAll">
                        </div>
                    </th>
                    <th scope="col">
                        Mã sinh viên
                    </th>
                    <th scope="col">
                        Họ và tên
                    </th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Students != null && Model.Students.Any())
                {
                    @foreach (var item in Model.Students)
                    {
                        <tr>
                            <td>
                                <div>
                                    <input type="checkbox" class="form-check-input student-checkbox"
                                           name="studentSelecting" value="@item.StudentId">
                                </div>
                            </td>
                            <td>
                                @item.StudentId
                            </td>
                            <td>
                                @item.LastName @item.FirstName
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
<script>
    $(document).ready(function () {
        function initialize() {
            bindEvents();
        }
        $(document).ready(function () {
            initialize();
        });
        function bindEvents() {
            $('#listStudents #selectAll').on('change', function () {
                var isChecked = $(this).prop('checked');
                $('#listStudents .student-checkbox').not(':disabled').prop('checked', isChecked);
            });

            $('#listStudents .student-checkbox').on('change', function () {
                var allChecked = $('#listStudents .student-checkbox:checked').length === $('#listStudents .student-checkbox:not(:disabled)').length;
                $('#listStudents #selectAll').prop('checked', allChecked);
            });

            $('#selectedStudents #selectAll').on('change', function () {
                var isChecked = $(this).prop('checked');
                $('#selectedStudents .student-checkbox').not(':disabled').prop('checked', isChecked);
            });

            $('#selectedStudents .student-checkbox').on('change', function () {
                var allChecked = $('#selectedStudents .student-checkbox:checked').length === $('#selectedStudents .student-checkbox:not(:disabled)').length;
                $('#selectedStudents #selectAll').prop('checked', allChecked);
            });
            $('#searchResult #selectAll').on('change', function () {
                var isChecked = $(this).prop('checked');
                $('#searchResult .student-checkbox').not(':disabled').prop('checked', isChecked);
            });

            $('#searchResult .student-checkbox').on('change', function () {
                var allChecked = $('#searchResult .student-checkbox:checked').length === $('#searchResult .student-checkbox:not(:disabled)').length;
                $('#searchResult #selectAll').prop('checked', allChecked);
            });
        }
    });

</script>
