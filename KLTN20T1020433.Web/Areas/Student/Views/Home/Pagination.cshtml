@using KLTN20T1020433.Domain.Test
@model KLTN20T1020433.Web.Areas.Student.Models.TestSearchResult

@{
    Layout = null;
    int i = 1;
}

<div class="table-responsive">
    <table class="table text-nowrap mb-0 align-middle">
        <thead class="text-dark fs-4 sticky-top table-secondary">
            <tr>
                <th scope="col" class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">STT</h6>
                </th>
                <th scope="col" class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Tên kì thi/ bài kiểm tra</h6>
                </th>
                <th scope="col" class="border-bottom-0 d-none d-md-table-cell">
                    <h6 class="fw-semibold mb-0">Thời gian bắt đầu</h6>
                </th>
                <th scope="col" class="border-bottom-0 d-none d-md-table-cell">
                    <h6 class="fw-semibold mb-0">Thời gian kết thúc</h6>
                </th>
                <th scope="col" class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Trạng thái</h6>
                </th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Data != null && Model.Data.Any())
            {
                @foreach (var item in Model.Data)
                {
                    <tr>
                        <td class="border-bottom-0">
                            <h6 class="fw-semibold mb-0">@(i++)</h6>
                        </td>
                        <td class="border-bottom-0 ">
                            <h6 class="fw-semibold mb-1"><a href="~/Student/Test/Detail/@item.TestId">@item.Title</a></h6>
                        </td>
                        <td class="border-bottom-0 d-none d-md-table-cell">
                            <h6 class="fw-semibold mb-1">@item.StartTime</h6>
                        </td>
                        <td class="border-bottom-0 d-none d-md-table-cell">
                            <h6 class="fw-semibold mb-1">@item.EndTime</h6>
                        </td>
                        <td class="border-bottom-0">
                            @if (item.Status == TestStatus.Ongoing)
                            {
                                <h6 class="fw-semibold mb-1 text-danger">@item.TestStatusDisplayName</h6>
                            }
                            @if (item.Status == TestStatus.Finished)
                            {
                                <h6 class="fw-semibold mb-1 text-success">@item.TestStatusDisplayName</h6>
                            }
                            @if (item.Status == TestStatus.Upcoming)
                            {
                                <h6 class="fw-semibold mb-1 text-primary">@item.TestStatusDisplayName</h6>
                            }
                            @if (item.Status == TestStatus.Canceled)
                            {
                                <h6 class="fw-semibold mb-1 text-dark">@item.TestStatusDisplayName</h6>
                            }
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="5" class="text-center">Tạm thời chưa có kỳ thi đang diễn ra hoặc chưa bắt đầu.</td>
                </tr>
            }
        </tbody>
    </table>
</div>
@if (Model.PageCount > 1)
{
    <div class="text-center">
        <ul class="pagination d-flex justify-content-center">

            @for (int p = 1; p <= Model.PageCount; p++)
            {
                if (Model.Page == p)
                {
                    <li class="page-item active"><a class="page-link" href="#">@p</a></li>
                }
                else
                {
                    <li class="page-item">
                        <a class="page-link" href="javascript:;" onclick="doSearch(@p)">@p</a>

                    </li>
                }
            }
        </ul>
    </div>
}